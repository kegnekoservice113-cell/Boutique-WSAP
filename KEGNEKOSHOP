<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Boutique WhatsApp</title>
<style>
:root{--bg:#f4f6f9;--card:#fff;--text:#000;--btn:#25D366;}
.dark{--bg:#121212;--card:#1e1e1e;--text:#fff;--btn:#128C7E;}
body{margin:0;font-family:Segoe UI;background:var(--bg);color:var(--text);transition:.4s;}
header{background:var(--btn);color:white;padding:15px;text-align:center;}
.container{padding:20px;}
.controls{display:flex;gap:10px;flex-wrap:wrap;}
input,select,textarea{padding:8px;border-radius:6px;border:1px solid #ccc;}
button{background:var(--btn);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;}
.produits{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px;}
.produit{background:var(--card);padding:15px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.1);text-align:center;animation:fade .5s;}
@keyframes fade{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
.produit img{width:100%;border-radius:10px;}
.panier{background:var(--card);padding:15px;border-radius:12px;margin-top:20px;}
.btn-groupe{display:block;text-align:center;background:#128C7E;color:white;padding:10px;border-radius:8px;margin:10px auto;text-decoration:none;width:fit-content;}
</style>
</head>

<body>
<header>
<h1>üõçÔ∏è Boutique WhatsApp</h1>
<p>Paiement √† la livraison</p>
</header>

<a class="btn-groupe" href="https://chat.whatsapp.com/TONLIENGROUPE" target="_blank">
üë• Rejoindre notre groupe WhatsApp
</a>

<div class="container">

<div class="controls">
<input id="search" placeholder="Rechercher..." onkeyup="filtrer()">
<select id="cat" onchange="filtrer()">
<option value="all">Toutes cat√©gories</option>
<option value="chaussures">Chaussures</option>
<option value="vetements">V√™tements</option>
<option value="montres">Montres</option>
</select>
<button onclick="toggleDark()">üåô</button>
</div>

<div class="produits" id="produits">

<div class="produit" data-nom="Chaussure Homme" data-cat="chaussures">
<img src="1 (1).png">
<h3>Chaussure Homme</h3>
<p>120 DT</p>
<button onclick="ajouterPanier('Chaussure Homme',120)">Ajouter</button>
</div>

<div class="produit" data-nom="Chemise √âl√©gante" data-cat="vetements">
<img src="1 (2).png">
<h3>Chemise √âl√©gante</h3>
<p>75 DT</p>
<button onclick="ajouterPanier('Chemise √âl√©gante',75)">Ajouter</button>
</div>

<div class="produit" data-nom="Montre Luxe" data-cat="montres">
<img src="1 (3).png">
<h3>Montre Luxe</h3>
<p>150 DT</p>
<button onclick="ajouterPanier('Montre Luxe',150)">Ajouter</button>
</div>

</div>

<div class="panier">
<h2>üõí Panier</h2>
<ul id="listePanier"></ul>
<p>Total: <span id="total">0</span> DT</p>
</div>

<div class="panier">
<h2>üßæ Infos client</h2>
<input id="nom" placeholder="Nom">
<input id="tel" placeholder="T√©l√©phone">
<textarea id="adr" placeholder="Adresse"></textarea>
<button onclick="valider()">Valider commande (Paiement √† la livraison)</button>
</div>

</div>

<script>
let panier=JSON.parse(localStorage.getItem("panier"))||[];
let stock=JSON.parse(localStorage.getItem("stock"))||{
"Chaussure Homme":10,
"Chemise √âl√©gante":10,
"Montre Luxe":10
};

function save(){
localStorage.setItem("panier",JSON.stringify(panier));
localStorage.setItem("stock",JSON.stringify(stock));
}

function ajouterPanier(nom,prix){
if(stock[nom]<=0) return alert("Stock √©puis√©");
let p=panier.find(x=>x.nom==nom);
if(p)p.qte++; else panier.push({nom,prix,qte:1});
stock[nom]--;
save();afficher();
}

function afficher(){
let ul=document.getElementById("listePanier");ul.innerHTML="";
let total=0;
panier.forEach((p,i)=>{
total+=p.prix*p.qte;
ul.innerHTML+=`<li>${p.nom} x${p.qte}
<button onclick="modif(${i},1)">+</button>
<button onclick="modif(${i},-1)">-</button>
</li>`;
});
document.getElementById("total").textContent=total;
}
function modif(i,d){
  let nom = panier[i].nom;
  panier[i].qte += d;

  if(d < 0) stock[nom]++; // on remet au stock si on enl√®ve
  if(d > 0 && stock[nom] >= 0) stock[nom]--; // si on ajoute

  if(panier[i].qte <= 0) panier.splice(i,1);
  save(); afficher();
}


function valider(){
let nom=document.getElementById("nom").value;
let tel=document.getElementById("tel").value;
let adr=document.getElementById("adr").value;
if(!nom||!tel||!adr||panier.length==0) return alert("Formulaire ou panier vide");
let msg="Commande (Paiement √† la livraison):%0A";
let total=0;
panier.forEach(p=>{msg+=`- ${p.nom} x${p.qte}%0A`;total+=p.prix*p.qte;});
msg+=`Total:${total} DT%0AClient:${nom}%0ATel:${tel}%0AAdresse:${adr}`;
if(confirm("Confirmer ?")){
alert("üôè Merci pour votre commande");
window.open("https://wa.me/21651555603?text="+msg,"_blank");
panier=[];save();afficher();
}
}

function filtrer(){
let s=document.getElementById("search").value.toLowerCase();
let c=document.getElementById("cat").value;
document.querySelectorAll(".produit").forEach(p=>{
let n=p.dataset.nom.toLowerCase();
let cat=p.dataset.cat;
p.style.display=(n.includes(s)&&(c=="all"||c==cat))?"block":"none";
});
}
function toggleDark(){document.body.classList.toggle("dark");}
</script>
</body>
</html>
ajout de la boutique
